### 功能与交互结构图

以下是代码的功能与交互结构图，展示了页面的逻辑结构和各个功能模块之间的关系。

```
无人机任务管理系统
├── 任务管理
│   ├── 创建任务按钮
│   │   └── 显示任务填写框并清空地图和输入框
│   ├── 任务填写框
│   │   ├── 输入任务名称
│   │   ├── 输入任务开始时间
│   │   ├── 选择起飞地点
│   │   │   └── 点击地图标记起飞点
│   │   ├── 选择降落地点
│   │   │   └── 点击地图标记降落点
│   │   ├── 绘制扫描区域
│   │   │   └── 点击地图绘制多边形，右键完成
│   │   └── 保存任务
│   │       ├── 验证任务信息完整性
│   │       ├── 保存任务数据
│   │       ├── 清空地图内容
│   │       ├── 重置输入框
│   │       └── 隐藏任务填写框
│   ├── 任务列表
│   │   └── 点击任务条目显示任务详情
│   │       ├── 显示起飞点
│   │       ├── 显示降落点
│   │       └── 显示扫描区域
│   └── 清空地图功能
│       └── 清除所有标记和区域
├── 实时显示
│   ├── 当前任务名称
│   ├── 起飞地点
│   ├── 降落地点
│   ├── 扫描区域面积
│   └── 预计用时
└── 地图交互
    ├── 标记起飞地点
    ├── 标记降落地点
    └── 绘制扫描区域
```

---

### 功能清单

以下是代码的功能清单，按模块和交互逻辑整理：

#### **1. 任务管理模块**

1. **创建任务按钮**  
   - 显示任务填写框。
   - 清空地图上的所有标记和区域。
   - 清空任务填写框的内容。

2. **任务填写框**  
   - **输入任务名称**：输入任务的名称。  
   - **输入开始时间**：选择任务的开始时间。  
   - **选择起飞地点**：  
     - 点击选择按钮后，地图进入选择模式。
     - 用户点击地图标记起飞点，更新输入框内容。  
   - **选择降落地点**：  
     - 点击选择按钮后，地图进入选择模式。
     - 用户点击地图标记降落点，更新输入框内容。  
   - **绘制扫描区域**：  
     - 点击绘制区域按钮后，地图进入绘制模式。
     - 用户依次点击地图绘制多边形，右键点击完成绘制。  
   - **保存任务**：  
     - 检查任务名称、开始时间、起飞点、降落点和扫描区域是否填写完整。
     - 保存任务到任务列表。
     - 清空地图内容。
     - 重置任务填写框内容。
     - 隐藏任务填写框。

3. **任务列表**  
   - 显示所有创建的任务。
   - 点击任务条目后，地图显示该任务的起飞点、降落点和扫描区域，同时更新实时显示。

4. **清空地图功能**  
   - 清除地图上的所有标记和绘制的区域。

---

#### **2. 实时显示模块**

1. **当前任务名称**：显示选中任务的名称。  
2. **起飞地点**：显示选中任务的起飞点经纬度。  
3. **降落地点**：显示选中任务的降落点经纬度。  
4. **扫描区域面积**：计算并显示任务的扫描区域面积（单位：公顷）。  
5. **预计用时**：根据扫描区域面积估算任务所需时间。

---

#### **3. 地图交互模块**

1. **标记起飞地点**：  
   - 用户点击地图后，标记并显示起飞点。  

2. **标记降落地点**：  
   - 用户点击地图后，标记并显示降落点。  

3. **绘制扫描区域**：  
   - 用户点击地图依次绘制多边形顶点。
   - 右键点击完成绘制，显示多边形区域。

---

### 功能流程

#### **创建任务流程**

1. 点击“创建任务”按钮：  
   - 显示任务填写框。
   - 清空地图和输入框内容。

2. 在任务填写框中：  
   - 输入任务名称、开始时间。
   - 选择起飞点和降落点。
   - 绘制扫描区域。

3. 点击“保存任务”按钮：  
   - 验证信息完整性。
   - 保存任务到任务列表。
   - 清空地图内容。
   - 隐藏任务填写框。

#### **查看任务流程**

1. 点击任务列表中的任务条目：  
   - 清空地图内容。
   - 地图上显示任务的起飞点、降落点和扫描区域。
   - 更新实时显示部分的任务信息。

#### **地图交互流程**

1. **选择起飞点或降落点**：  
   - 点击地图标记所选点。
   - 更新输入框内容。

2. **绘制扫描区域**：  
   - 点击地图添加多边形顶点。
   - 右键点击完成绘制，并显示区域。

